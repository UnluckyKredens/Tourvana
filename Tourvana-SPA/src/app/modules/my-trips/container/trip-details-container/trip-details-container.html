@if(trip == null) {
<app-error-presenter></app-error-presenter>
}
@else {
<div class="container">
  <div class="details">
    <div class="details__header">
      <div>
        <h1>{{trip.name}}</h1>
        <h2>{{trip.startDate | date: 'dd.mm.yyyy'}} - {{trip.endDate | date: 'dd.mm.yyyy'}}</h2>
      </div>
      <div>
        <h1>{{trip.budget}} zł</h1>
        <h2>{{trip.budget / trip.contributors.length}} zł/os </h2>
      </div>
    </div>
    <div class="overall">
      <div class="informations">
        @if(trip.hotel.name) {
                  <div>
          <h2>Hotel:</h2>
          <div class="hotel">
            <div class="hotel__about">
              <img
                src="https://plus.unsplash.com/premium_photo-1661964071015-d97428970584?fm=jpg&q=60&w=3000&ixlib=rb-4.1.0&ixid=M3wxMjA3fDB8MHxzZWFyY2h8MXx8aG90ZWx8ZW58MHx8MHx8fDA%3D">
              <div>
                <p>{{trip.hotel.name}}</p>

                <div>
                  <p>{{trip.contributors.length}} os.</p>
                  <p>{{trip.hotel.price}}</p>
                </div>
              </div>
            </div>
            <div class="hotel__details">
              <button mat-icon-button>
                <mat-icon color="primary">edit</mat-icon>
              </button>
              <button mat-icon-button>
                <mat-icon color="warn">delete</mat-icon>
              </button>
            </div>
          </div>
          <div>
            <h2 class="informations__transport">Opcja Transportu:</h2>
            <mat-form-field appearance="outline" class="informations__transport--field">
              <input matInput value="Samochodem">
            </mat-form-field>
          </div>
        </div>
        }
        @else {
          <h2>Dodaj Hotel Kiedyś</h2>
        }


          @if(trip.attractions.length > 0) {
          <div class="overall__atractions">
          <h2>Atrakcje</h2>
          @for(attraction of trip.attractions; track attraction.attractionId) {
          <div class="attraction">
            <div class="attraction__about">
              <p class="attraction__about--name">{{attraction.name}}</p>
              <p class="attraction__about--description">{{attraction.description}}</p>
              <p class="attraction__about--price">{{attraction.price}} zł</p>
              <a class="attraction__about--info" href="{{attraction.url}}">More info</a>
            </div>
            <div>
              <button mat-icon-button>
                <mat-icon color="warn">delete</mat-icon>
              </button>
            </div>
          </div>
          }
          <button mat-raised-button class="overall__atractions--btn" color="primary">Dodaj więcej</button>
        </div>
          }@else {
            <h1> Dodaj atrakcje kiedyś</h1>
          }

        <div class="overall__notes">
          <h2 style="text-align: center;">Notatki</h2>
          <mat-form-field appearance="outline" class="overall__notes--field">
            <textarea matInput resizeToFitContent value="{{trip.notes}}"></textarea>
          </mat-form-field>
        </div>
      </div>
      <div class="options">
        <div class="options__contributors">
          <h2>Podróżnicy:</h2>
          @for(contributor of trip.contributors; track contributor.trip) {
          <p class="options__contributors--name">{{contributor.userId}}</p>
          <p class="options__contributors--role">{{contributor.role}}</p>
          }
          <button class="options__contributors--btn" mat-raised-button color="primary">Dodaj</button>
        </div>
        <div class="options__payments">
          <h2>Wydatki:</h2>
          @for(payment of trip.payments; track payment.paymentId) {
          <div class="options__payments--payment">
            <span>{{payment.description}}</span>
            <span>{{payment.amount}}</span>
          </div>
          }


        </div>
      </div>
    </div>
  </div>
</div>

}
